
# ü§ñ –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç Data Engineer

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ETL –ø–∞–π–ø–ª–∞–π–Ω–æ–≤ —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞.
–°—Å—ã–ª–∫–∞ - http://89.169.159.81:8501

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ê–Ω–∞–ª–∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö**: CSV, PostgreSQL, ClickHouse, JSON, Excel
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å–≤—è–∑–µ–π** –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- **–ò–ò-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Airflow DAG** –¥–ª—è ETL –ø–∞–π–ø–ª–∞–π–Ω–æ–≤  
- **–°–æ–∑–¥–∞–Ω–∏–µ SQL —Å–∫—Ä–∏–ø—Ç–æ–≤** –¥–ª—è —Å—Ö–µ–º—ã –ë–î
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –Ω–∞ Streamlit

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Streamlit     ‚îÇ    ‚îÇ   FastAPI       ‚îÇ    ‚îÇ   LLM Services  ‚îÇ
‚îÇ   Frontend      ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   Backend       ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ YandexGPT/      ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ DeepSeek        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îÇ                       ‚ñº                       ‚îÇ
         ‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
         ‚îÇ              ‚îÇ   PostgreSQL    ‚îÇ              ‚îÇ
         ‚îÇ              ‚îÇ   ClickHouse    ‚îÇ              ‚îÇ
         ‚îÇ              ‚îÇ   Redis         ‚îÇ              ‚îÇ
         ‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
         ‚îÇ                                               ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Airflow DAG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

```bash
git clone https://github.com/KirpaDmitriy/de-agent.git
cd de-agent
```


2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª, –¥–æ–±–∞–≤—å—Ç–µ API –∫–ª—é—á–∏
```


3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:**
```bash
docker-compose up -d
```


4. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- Frontend: http://localhost:8501
- Backend API: http://localhost:8000
- API Docs: http://localhost:8000/docs

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **Backend:**
```bash
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload
```


2. **Frontend:**
```bash
cd frontend  
pip install -r requirements.txt
streamlit run streamlit_app.py
```

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

CSV —Ñ–∞–π–ª—ã:
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL/ClickHouse:
- –£–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

–£–∫–∞–∂–∏—Ç–µ:
- –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ (–¥–∞—à–±–æ—Ä–¥, –æ—Ç—á–µ—Ç—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
- –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –û–∂–∏–¥–∞–µ–º—É—é –Ω–∞–≥—Ä—É–∑–∫—É

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

–ò–ò –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç:
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (PostgreSQL/ClickHouse/HDFS)
- –°—Ö–µ–º—É –¥–∞–Ω–Ω—ã—Ö —Å –ø–∞—Ä—Ç–∏—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏  
- ETL –ø–∞–π–ø–ª–∞–π–Ω —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
- Airflow DAG –∫–æ–¥ –≥–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### 4. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–°–∫–∞—á–∞–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- dag.py - Airflow –ø–∞–π–ø–ª–∞–π–Ω
- schema.sql - DDL —Å–∫—Ä–∏–ø—Ç—ã
- optimization.sql - —Å–∫—Ä–∏–ø—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## üîß API Endpoints

- POST /analyze-source - –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- POST /upload-csv - –ó–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–∞
- POST /find-relationships - –ü–æ–∏—Å–∫ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏  
- POST /generate-recommendations - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ò–ò-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- POST /test-connection - –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- GET /health - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞

## üß†–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ LLM

### YandexGPT
```
YANDEX_API_KEY=your_api_key
YANDEX_FOLDER_ID=your_folder_id
```


### DeepSeek
```bash  
DEEPSEEK_API_KEY=your_api_key
```


### Rule-based Fallback
–ï—Å–ª–∏ LLM –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

| –¢–∏–ø | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—Ä—ã |
|-----|--------|---------|
| CSV | ‚úÖ | –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ UI |
| PostgreSQL | ‚úÖ | –õ—é–±—ã–µ PostgreSQL —Ç–∞–±–ª–∏—Ü—ã |
| ClickHouse | ‚úÖ | –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã |
| JSON | ‚úÖ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON —Ñ–∞–π–ª—ã |
| Excel | ‚úÖ | .xlsx, .xls —Ñ–∞–π–ª—ã |
| REST API | üîÑ | –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è |

## üéØ –¶–µ–ª–µ–≤—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

| –¢–∏–ø | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ | –°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|-----|--------------|---------------------|
| **PostgreSQL** | ‚â§ 1M –∑–∞–ø–∏—Å–µ–π, OLTP | –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–µ–±–æ–ª—å—à–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ |
| **ClickHouse** | > 1M –∑–∞–ø–∏—Å–µ–π, OLAP | –ë–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã |
| **HDFS** | Big Data | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ |

## üîç –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–∞—à–±–æ—Ä–¥ –ø—Ä–æ–¥–∞–∂

–ò—Å—Ç–æ—á–Ω–∏–∫–∏: orders.csv, customers.json, products.xlsx
–¶–µ–ª—å: –î–∞—à–±–æ—Ä–¥ –ø—Ä–æ–¥–∞–∂ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
–†–µ–∑—É–ª—å—Ç–∞—Ç: ClickHouse + –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ


### –û—Ç—á–µ—Ç CRM

–ò—Å—Ç–æ—á–Ω–∏–∫–∏: PostgreSQL (leads, deals, contacts)
–¶–µ–ª—å: –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –ø–æ –≤–æ—Ä–æ–Ω–∫–µ –ø—Ä–æ–¥–∞–∂
–†–µ–∑—É–ª—å—Ç–∞—Ç: PostgreSQL + –∞–≥—Ä–µ–≥–∏—Ä—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã


## üö® Troubleshooting

### LLM –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏ –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ rule-based —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ö–æ—Å—Ç–æ–≤
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"

### Airflow DAG –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ connections –≤ Airflow UI
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –¥–∞–Ω–Ω—ã—Ö

## üîÆ Roadmap

### –§–∞–∑–∞ 1 (–¢–µ–∫—É—â–∞—è)
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –§–∞–∑–∞ 2 (–°–ª–µ–¥—É—é—â–∞—è)
- üîÑ REST API –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Apache Kafka
- üîÑ Real-time –æ–±—Ä–∞–±–æ—Ç–∫–∞
- üîÑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö

### –§–∞–∑–∞ 3 (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)  
- üìã ML –ø–∞–π–ø–ª–∞–π–Ω—ã
- üìã –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MLflow
- üìã –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–æ–≤
- üìã –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º –¥–∞–Ω–Ω—ã—Ö

## ü§ù Contributing

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (git checkout -b feature/amazing-feature)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (git commit -m 'Add amazing feature')
4. Push –≤ branch (git push origin feature/amazing-feature)
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ License

MIT License - —Å–º. [LICENSE](LICENSE) —Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üêõ Issues: [GitHub Issues](https://github.com/KirpaDmitriy/de-agent/issues)

---

‚≠êÔ∏è –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–µ–∑–µ–Ω, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥–æ—á–∫—É!
